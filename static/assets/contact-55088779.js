import{d as p,l as f,m as g,o as _,c as b,n as l,v as i,e as s,b as n,q as y}from"./index-653f27a3.js";const S={class:"col center p-8 m-8 rounded bg-gray-100 sh w-96 mx-auto"},v=n("label",{for:"name"},"Name",-1),x=n("label",{for:"email"},"Email",-1),w=n("label",{for:"message"},"Message",-1),k=p({__name:"contact",setup(h){const{notify:m,state:C,setState:c}=f(),t=g({name:"",email:"",message:""}),r=async()=>{const{data:o}=await y("/api/contact",{method:"POST",body:JSON.stringify({...t}),headers:{"Content-Type":"application/json"}}).json(),{status:e,message:a,reference:u}=s(o);m(a,e),d(u)},d=o=>{c({eventSource:new EventSource(`/api/stream?ref=${o}`)})};return(o,e)=>(_(),b("div",S,[v,l(n("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>s(t).name=a),class:"input"},null,512),[[i,s(t).name]]),x,l(n("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>s(t).email=a),class:"input"},null,512),[[i,s(t).email]]),w,l(n("textarea",{id:"message","onUpdate:modelValue":e[2]||(e[2]=a=>s(t).message=a),class:"input w-64"},null,512),[[i,s(t).message]]),n("button",{"btn-get":"",onClick:r},"Send")]))}});export{k as default};
